<!DOCTYPE html>
<html>
<head>
	<title>Music Page</title>
	<link rel="stylesheet" type="text/css" href="https://wlr3iii.github.io/style.css">
	<script>
		var playlist = [
		{
			"Song Name": "X",
			"Artist": "Schoolboy Q",
			"Duration": "4:27",
			"Album": "Black Panther the Album"
		},
		{
			"Song Name": "White Sand",
			"Artist": "Migos",
			"Duration": "3:22",
			"Album": "Culture 2"
		},
		{
			"Song Name": "Goat 2.0",
			"Artist": "Eric Bellinger",
			"Duration": "3:07",
			"Album": "Goat 2.0"
		},
		{
			"Song Name": "No Drama",
			"Artist": "Tinashe",
			"Duration": "3:20",
			"Album": "No Drama"
		},
		{
			"Song Name": "Telephone Calls",
			"Artist": "A$AP Mob",
			"Duration": "3:50",
			"Album": "Cozy Tapes Vol. 1 Friends -"
		}
		];


	</script>

	<style>
	table, td, th, tr {
		border: 1px solid black;
	}

	table {
		text-align: center;
		width: 40%;
	}

	th {
		text-align: left;
	}
</style>
</head>
<body>
	<h1>Music Playlist</h1>
	<h2>Music Table</h2>
	<table id="music"></table><br><br>
	<h2>Updated Music Table</h2>
	<table>
		<thead>
			<tr><th>Song</th><th>Artist</th><th>Duration</th><th>Album</th></tr>
		</thead>
		<tbody id="playmusic">

		</tbody>
	</table>
	<h2>Statistic Table</h2>
	<table>
		<thead>
			<tr><th>Number of Songs</th><th>Number of Artists</th><th>Total Playtime</th></tr>
		</thead>
		<tbody id="stat"></tbody>
	</table>
	<script>

		function song_total (playlist) {
			var a = new Set();
			for (var x in playlist) {
				var obj = playlist[x];
				a.add(obj["Song Name"]);
			}
			return a.size;
		}


		function artist_total(playlist) {
			var a = new Set();
			for (var x in playlist) {
				var obj = playlist[x];
				a.add(obj["Artist"]);
			}
			return a.size;
		}

		// function help from javascript and classmates
		function addTime(playlist) {
			var total_min = 0;
			var total_sec = 0;

			for (var song in playlist){
				var time = playlist[song].Duration;
				var min = parseInt(time.split(":")[0]);
				var sec = parseInt(time.split(":")[1]);
				total_min += min;
				total_sec += sec;
			}
			total_min += Math.floor(total_sec/60);
			total_sec = total_sec % 60;


if (total_sec < 10) total_sec = "0" + total_sec;
			return total_min + ":" + total_sec;
		}

		/*document.write(music[0].First);*/
		var text = "";
		var newtext = "";
		var txt = "";
		/*var x;*/
		for (var x in playlist) {
			if (playlist.hasOwnProperty(x)) {
				var obj = playlist[x];
				for (var y in obj) {
					if (obj.hasOwnProperty(y)) {
						text += "<tr><td align='right'>" + y + "</td><td>" + obj[y] + "</td></tr>";
						/*document.write(y + " -> " + obj[y] + '\n');*/
					}
				}
				newtext += "<tr><td>" + obj['Song Name'] + "</td><td>" + obj['Artist'] + "</td><td>" + obj['Duration'] + "</td><td>" + obj['Album'] + "</td><tr>";

			}
		}
			txt += "<tr><td>" + song_total(playlist) + "</td><td>" + artist_total(playlist) + "</td><td>" + addTime(playlist) + "</td></tr>";
		

		document.getElementById("music").innerHTML = text;
		document.getElementById("playmusic").innerHTML = newtext;
		document.getElementById("stat").innerHTML = txt;
	</script>

	<p>
		To go back to the Index page: <a href="http://wlr3iii.github.io/index.html">Click</a>
	</p>
</body>
</html>